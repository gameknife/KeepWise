# KeepWise Desktop 用户视角回归清单（按 TAB）

用途：

- 发布前批量人工审核
- RC 构建下载后的功能验收
- 版本回归对照基线

建议执行环境：

- 使用一份稳定测试库（或先通过导入中心导入测试样本）
- 若验证导入链路，优先用固定样本目录/文件

## 通用检查（每次都做）

1. 应用启动后窗口大小与布局正确（左侧导航常驻、右侧内容可滚动）
2. 左侧 TAB 展开/收纳动画正常
3. 品牌图标显示正常（侧栏、窗口图标）
4. 无明显白屏/崩溃
5. `高级管理 -> 运行时健康检查` 能正常返回

## 导入中心

1. `有知有行导入`：
   - 选择文件
   - 预览摘要正确
   - 导入成功后相关分析页自动刷新
2. `招行 EML 导入`：
   - 单文件预览摘要正确（重点看交易数/待确认）
   - 导入后 `交易查询` 可见新记录
   - 不重复导入时不应出现明显重复
3. `招行 PDF 导入`：
   - 预览摘要正确（工资/公积金/消费/白名单转账分类合理）
   - 导入后 `收入分析/消费分析` 数据联动正确
4. `规则管理`：
   - 商户映射 / 分类规则 / 转账白名单 / 分析排除 能查询
   - 更新规则后重新预览 EML/PDF 结果发生预期变化
5. `商户建议`：
   - 查询返回建议列表
   - 一键回填到商户映射表单可用

## 手动录入

1. 账户目录维护：
   - 查询 / 新增 / 编辑 / 删除（无引用账户）
   - 有引用账户删除应被阻止
2. 投资记录维护：
   - 新增 / 修改 / 删除
   - 保存后基础查询与收益分析联动刷新
3. 非投资资产估值维护（现金/不动产/负债）：
   - 新增 / 修改 / 删除
   - 保存后财富总览联动刷新

## 收益分析

1. 投资区间收益率（单账户/组合）查询成功
2. 投资收益率对比列表：
   - `limit` 生效
   - 表头排序生效
3. 投资曲线图：
   - 全宽布局
   - hover 提示 / 点位高亮 / 坐标轴显示正常

## 财富总览

1. 财富总览摘要返回正确（投资/现金/不动产/负债/净资产）
2. 账户明细表：
   - 排序可用
   - 对账字段 / 滞后天数显示正常
3. 财富曲线图：
   - 全宽布局
   - hover 提示 / 点位高亮 / 坐标轴显示正常
4. 资产类型开关（投资/现金/不动产/负债）联动正确

## 预算与 FIRE

1. 预算项查询 / 新增编辑 / 删除可用
2. 预算概览正常返回
3. 月度预算复盘正常返回
4. FIRE 进度显示合理（数值/趋势）

## 收入分析

1. 工资收入概览正常返回（基于银行 PDF 导入数据）
2. 趋势图显示正常（hover/坐标轴/填充）
3. 关键指标与导入数据量级一致

## 消费分析

1. 消费总览可刷新
2. 月份筛选、分类筛选、商户筛选联动正确
3. 条件 pills 可单独删除 / 清空
4. “排除待确认（默认）”开关行为符合预期
5. 分类饼图：
   - 中心总额居中
   - 图例与数值一致
6. 趋势图：
   - hover 数值提示
   - 高亮联动
   - 坐标轴与曲线/填充显示正常
7. 不显示“最近消费明细”（详细交易应在基础查询）

## 基础查询

1. `交易查询`：
   - `limit` 生效
   - 排序生效
   - 分类、剔除状态显示正确
2. `投资记录查询`：
   - `limit` 生效
   - 排序生效
3. `资产估值查询`：
   - `limit` 生效
   - 排序生效
4. `元账户查询`：
   - 排序与筛选可用

## 高级管理

1. 数据库状态 / 迁移
2. 管理员数据库统计（表数量/总行数）
3. 运行时健康检查
4. 核心分析冒烟验证（4 项 PASS）
5. 管理员重置（建议测试库）：
   - 口令校验
   - 交易范围重置
6. 调试 JSON 开关（仅该 TAB 保留）

## 建议记录格式（人工执行）

每次回归建议记录：

- 版本号
- 数据库样本来源
- 执行人
- 日期时间
- 阻塞问题（有/无）
- 备注（截图/日志路径）
